<div class="container-fluid py-4">
    <div class="row">
        <div class="col-md-12">

            <div class="table-responsive">
                <div class="input-group mb-3">
                    <input type="text" class="form-control" [(ngModel)]="filterStationName" (input)="filterItems()">
                    <button class="btn btn-sm" style="background: red;font-weight: bold; color: white;" type="button" id="button-addon2" (click)="setGuardStationModal()">Ekle</button>
                </div>
             
                <table class="table table-hover border table-rounded table-row-dashed table-row-gray-400 align-middle gs-3 gy-4"
            >
                <thead> 
                    <tr style="background:red;font-weight: bold;color:white;">
                        <th class="fw-bolder me-1 cursor-pointer rounded-start text-center text-white" style="width: 80%;">Station Name</th>
                        <th class="fw-bolder me-1 cursor-pointer rounded-end text-white" style="width: 20%;" colspan="2">Action</th>
                    </tr>
                </thead>

                <tbody>
                    <tr *ngFor="let item of filteredItems" class="cursor-pointer fs-12">
                            <td>
                                <span class="mb-1 fw-bold">{{item.kaynakad}}</span>
                            </td>

                            <td>

                                <a class="btn btn-light-danger btn-sm mr-5" (click)="updateGuardStationModal(item);">
                                    <i class="fa-solid fa-pen p-0"></i>
                                </a>

                                <a class="btn btn-light-danger btn-sm" (click)="deleteGuardStationModal(item.id);">
                                    <i class="fa-solid fa-trash p-0"></i>
                                </a>


                            </td>
                    </tr>

                </tbody>
            </table>
            </div>    
            
        </div>

    </div>
</div>

<p-dialog
        [(visible)]="newStationModal"
        [modal]="true"
        [style]="{ width: '35vw'}"
        [breakpoints]="{'2560px': '25vw', '992px': '70vw', '576px': '90vw'}"
        [maximizable]="true"
        [baseZIndex]="10000">
    
       <label for="">Ä°stasyon AdÄ± : </label>

       <input type="text" [(ngModel)]="stationName" class="form-control mb-6">

       <label for="">Tipi : </label>

       <select class="form-select form-select-sm form-select-solid mb-6" [(ngModel)]="selectTypeId">
           <option class="form-select"  value="{{item?.ID}}" *ngFor="let item of stationType">{{item?.Ad}}</option>
       </select>
            
       <label for="">NumarasÄ± : </label>

       <input type="text" class="form-control mb-6" [(ngModel)]="numberForStation">

       <div class="custom-card mb-6" [class.collapsed]="isCollapsed">
        
        <div class="card-header d-flex justify-content-between align-items-center">
          <h5 class="m-0">Konum SeÃ§imi</h5>
          <div class="action-buttons">
            <button class="btn btn-sm" (click)="toggleCollapse()">
              <i class="bi p-0 fs-4" [ngClass]="isCollapsed ? 'bi-chevron-down' : 'bi-chevron-up'"></i>
            </button>
          </div>
        </div>

        <div class="card-body" [hidden]="isCollapsed">
            <div id="map" style="height: 500px; width: 100%;"></div>
            <h5 style="margin-top: 5px;">ðŸ”´ Konum seÃ§imi yapabilmek iÃ§in harita Ã¼zerinde Ã§ift tÄ±klayÄ±n</h5>
        </div>
        <!-- <div class="card-body" *ngIf="!isCollapsed">
            <div id="map" style="height: 500px; width: 100%;"></div>
        </div> -->
      </div>
    


       <label for="">Konumu : </label>
       <input type="text" class="form-control mb-6" value="{{this.lokasyon}}">
       <label for="">Ä°stasyon Konum AÃ§Ä±klamasÄ±: </label>

       <input type="text" class="form-control mb-6" [(ngModel)]="description">
        
        <div class="row">
          <div class="d-flex justify-content-end">
            <button class="btn btn-secondary m-2" (click)="newStationModal = false;">Ä°PTAL</button>
            <button class="btn btn-danger m-2" (click)="setGuardStation()">Ekle</button>
          </div>
        
        </div>

</p-dialog>

<p-dialog
        [(visible)]="deleteModal"
        [modal]="true"
        [style]="{ width: '35vw'}"
        [breakpoints]="{'2560px': '25vw', '992px': '70vw', '576px': '90vw'}"
        [maximizable]="true"
        [baseZIndex]="10000">
    
        <h3>Silmek istediÄŸinize emin misiniz?</h3>
        <div class="row">
          <div class="d-flex justify-content-end">
            <button class="btn btn-secondary m-2" (click)="deleteModal = false;">Ä°PTAL</button>
            <button class="btn btn-danger m-2" (click)="deleteGuardStation()">Sil</button>
          </div>
        
        </div>

</p-dialog>


<p-dialog
        [(visible)]="updateModal"
        [modal]="true"
        [style]="{ width: '35vw'}"
        [breakpoints]="{'2560px': '25vw', '992px': '70vw', '576px': '90vw'}"
        [maximizable]="true"
        [baseZIndex]="10000">
        <label for="">Ä°stasyon AdÄ± : </label>

        <input type="text" [(ngModel)]="stationName" class="form-control mb-6">
 
        <label for="">Tipi : </label>
 
        <select class="form-select form-select-sm form-select-solid mb-6" [(ngModel)]="selectTypeId">
            <option class="form-select"  value="{{item?.ID}}" *ngFor="let item of stationType">{{item?.Ad}}</option>
        </select>
             
        <label for="">NumarasÄ± : </label>
 
        <input type="text" class="form-control mb-6" [(ngModel)]="numberForStation">
 
        <div id="map" style="height: 500px; width: 100%;"></div>
 
 
        <label for="">Konumu : </label>
        <input type="text" class="form-control mb-6" value="{{this.lokasyon}}">
        <label for="">Ä°stasyon Konum AÃ§Ä±klamasÄ±: </label>
 
        <input type="text" class="form-control mb-6" [(ngModel)]="description">
        
        <div class="row">
          <div class="d-flex justify-content-end">
            <button class="btn btn-secondary m-2" (click)="updateModal = false;">Ä°PTAL</button>
            <button class="btn btn-danger m-2" (click)="updateGuardStation()">GÃ¼ncelle</button>
          </div>
        
        </div>

</p-dialog>